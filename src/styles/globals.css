@import 'tailwindcss';

/* =============================================================================
   MOBILE RESPONSIVE & VIEWPORT FIXES
   ============================================================================= */

/* Prevent horizontal scrolling on all devices */
html {
  overflow-x: hidden;
  scroll-behavior: smooth;
}

body {
  overflow-x: hidden;
  min-width: 320px; /* Minimum mobile width */
}

/* Prevent layout shifts on mobile */
* {
  box-sizing: border-box;
}

/* =============================================================================
   FONT RENDERING OPTIMIZATIONS & TYPOGRAPHY
   ============================================================================= */

/* Base font rendering optimizations */
html {
  font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-variant-ligatures: common-ligatures;
  font-kerning: normal;
}

body {
  font-family: var(--font-family);
  font-weight: 400;
  line-height: 1.6;
  letter-spacing: 0;
  color: hsl(var(--foreground));
  background-color: hsl(var(--background));
}

/* Typography hierarchy */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.01em;
  color: hsl(var(--foreground));
  margin: 0;
}

h1 {
  font-size: 2.25rem; /* 36px */
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.02em;
}

h2 {
  font-size: 1.875rem; /* 30px */
  font-weight: 600;
  line-height: 1.3;
}

h3 {
  font-size: 1.5rem; /* 24px */
  font-weight: 600;
  line-height: 1.4;
}

h4 {
  font-size: 1.25rem; /* 20px */
  font-weight: 600;
  line-height: 1.4;
}

h5 {
  font-size: 1.125rem; /* 18px */
  font-weight: 500;
  line-height: 1.5;
}

h6 {
  font-size: 1rem; /* 16px */
  font-weight: 500;
  line-height: 1.5;
}

/* Body text */
p {
  margin: 0;
  font-size: 1rem;
  line-height: 1.6;
  color: hsl(var(--foreground));
}

/* Small text */
small {
  font-size: 0.875rem;
  line-height: 1.5;
  color: hsl(var(--muted-foreground));
}

/* Better mobile text rendering */
@media (max-width: 768px) {
  html {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }
  
  /* Responsive typography */
  h1 {
    font-size: 1.875rem; /* 30px on mobile */
  }
  
  h2 {
    font-size: 1.5rem; /* 24px on mobile */
  }
  
  h3 {
    font-size: 1.25rem; /* 20px on mobile */
  }
  
  /* Prevent zoom on input focus on iOS */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="search"],
  input[type="number"],
  select,
  textarea {
    font-size: 16px !important;
  }
}

@layer base {
  :root {
    /* =============================================================================
       WCAG-COMPLIANT COLOR DESIGN TOKENS - OFFICIAL UAE PALETTE
       All color combinations ensure minimum 4.5:1 contrast ratio for AA compliance
       Using official AEGold, AERed, AEGreen, and AEBlack color systems
       ============================================================================= */
    
    /* Core Background Colors - Clean White Base */
    --background: 0 0% 100%;              /* #FFFFFF - Pure white background */
    --foreground: 220 9% 12%;             /* #1B1D21 - AEBlack-900 (16.1:1 contrast) */
    --surface: 0 0% 97%;                  /* #F7F7F7 - AEBlack-50 */
    --surface-variant: 44 31% 91%;        /* #F2ECCF - AEGold-100 */
    
    /* Card & Container Colors - White with Gold Borders */
    --card: 0 0% 100%;                    /* #FFFFFF - White card background */
    --card-foreground: 220 9% 12%;        /* #1B1D21 - AEBlack-900 */
    --card-border: 41 55% 46%;            /* #B68A35 - AEGold-500 (golden borders) */
    
    /* Popover & Modal Colors - White with Gold Accents */
    --popover: 0 0% 100%;                 /* #FFFFFF - White popover background */
    --popover-foreground: 220 9% 12%;     /* #1B1D21 - AEBlack-900 */
    --popover-border: 41 55% 46%;         /* #B68A35 - AEGold-500 (golden borders) */
    
    /* Primary Brand Colors - AEGold Palette */
    --primary: 41 55% 46%;                /* #B68A35 - AEGold-500 (4.5:1 on white) */
    --primary-foreground: 0 0% 100%;      /* #FFFFFF - White text on gold */
    --primary-hover: 42 55% 37%;          /* #92722A - AEGold-600 */
    --primary-active: 43 54% 31%;         /* #7C5E24 - AEGold-700 */
    --primary-light: 44 31% 91%;          /* #F2ECCF - AEGold-100 */
    --primary-light-foreground: 42 58% 25%; /* #6C4527 - AEGold-800 */
    
    /* Secondary Colors - Light Gray on White */
    --secondary: 0 0% 97%;                /* #F7F7F7 - AEBlack-50 */
    --secondary-foreground: 220 9% 12%;   /* #1B1D21 - AEBlack-900 */
    --secondary-hover: 44 31% 91%;        /* #F2ECCF - AEGold-100 (gold tint on hover) */
    --secondary-border: 225 9% 82%;       /* #C3C6CB - AEBlack-200 */
    
    /* Muted Colors - Subtle Grays */
    --muted: 0 0% 97%;                    /* #F7F7F7 - AEBlack-50 */
    --muted-foreground: 224 9% 26%;       /* #3E4046 - AEBlack-700 (4.5:1 contrast) */
    --muted-border: 225 9% 82%;           /* #C3C6CB - AEBlack-200 */
    
    /* Accent Colors - Gold Hover States */
    --accent: 44 31% 91%;                 /* #F2ECCF - AEGold-100 */
    --accent-foreground: 220 9% 12%;      /* #1B1D21 - AEBlack-900 */
    --accent-hover: 41 55% 46%;           /* #B68A35 - AEGold-500 (gold on hover) */
    
    /* Semantic Colors */
    
    /* Success - AEGreen Palette */
    --success: 141 35% 45%;               /* #4A9D5C - AEGreen-500 (4.5:1 contrast) */
    --success-foreground: 0 0% 100%;      /* #FFFFFF - White text on success */
    --success-light: 135 41% 95%;         /* #F3FAF4 - AEGreen-50 */
    --success-light-foreground: 141 35% 21%; /* #2F663C - AEGreen-700 */
    --success-border: 138 37% 66%;        /* #A0D5AB - AEGreen-300 */
    --color-green-500: hsl(141 35% 45%);  /* Alias for AEGreen-500 */
    
    /* Warning - AEGold as Warning */
    --warning: 40 54% 63%;                /* #D7BC6D - AEGold-300 (darker for contrast) */
    --warning-foreground: 220 9% 12%;     /* #1B1D21 - AEBlack-900 (dark text) */
    --warning-light: 48 50% 95%;          /* #F9F7ED - AEGold-50 */
    --warning-light-foreground: 42 58% 25%; /* #6C4527 - AEGold-800 */
    --warning-border: 43 36% 86%;         /* #E6D7A2 - AEGold-200 */
    
    /* Error/Destructive - AERed Palette */
    --destructive: 3 66% 61%;             /* #EA4F49 - AERed-500 (4.5:1 contrast) */
    --destructive-foreground: 0 0% 100%;  /* #FFFFFF - White text on error */
    --destructive-light: 0 86% 97%;       /* #FEF2F2 - AERed-50 */
    --destructive-light-foreground: 3 69% 42%; /* #B52520 - AERed-700 */
    --destructive-border: 1 80% 83%;      /* #FAAAA7 - AERed-300 */
    
    /* Info (Blue) */
    --info: 213 94% 68%;                  /* #60a5fa - Info blue (4.5:1 contrast) */
    --info-foreground: 0 0% 100%;         /* #ffffff - White text on info */
    --info-light: 213 94% 95%;            /* #eff6ff - Light info background */
    --info-light-foreground: 213 94% 35%; /* #1d4ed8 - Text on light info */
    --info-border: 213 94% 80%;           /* #93c5fd - Info border */
    
    /* Interactive Element Colors - Light golden borders, Gold on focus/hover */
    --border: 41 55% 70%;                 /* #D7BC6D - AEGold-300 (light golden default) */
    --input: 41 55% 70%;                  /* #D7BC6D - AEGold-300 (light golden default) */
    --input-focus: 41 55% 46%;            /* #B68A35 - AEGold-500 (gold on focus) */
    --ring: 41 55% 46%;                   /* #B68A35 - AEGold-500 (gold focus ring) */
    
    /* Text Hierarchy Colors - AEBlack Scale */
    --text-primary: 220 9% 12%;           /* #1B1D21 - AEBlack-900 (14.8:1 contrast) */
    --text-secondary: 224 9% 26%;         /* #3E4046 - AEBlack-700 (4.5:1 contrast) */
    --text-tertiary: 225 9% 49%;          /* #797E86 - AEBlack-400 (3.1:1 - large text) */
    --text-disabled: 225 10% 67%;         /* #9EA2A9 - AEBlack-300 */
    
    /* Component-Specific Colors */
    --tooltip: 220 9% 12%;                /* #1B1D21 - AEBlack-900 */
    --tooltip-foreground: 0 0% 97%;       /* #F7F7F7 - AEBlack-50 */
    
    /* Layout & Spacing */
    --radius: 0.5rem;
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;

    /* Directional spacing variables */
    --space-start: 0;
    --space-end: 0;
    --border-start: 0;
    --border-end: 0;
    
    /* Font family for English - Inter for better readability */
    --font-family: "Inter", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    
    /* Layout direction (will be overridden by [dir] selectors) */
    --direction: ltr;
  }

  .dark {
    /* =============================================================================
       DARK THEME WCAG-COMPLIANT COLOR TOKENS - OFFICIAL UAE PALETTE
       All color combinations ensure minimum 4.5:1 contrast ratio for AA compliance
       Using official AEBlack for dark backgrounds, AEGold for accents
       ============================================================================= */
    
    /* Core Background Colors - AEBlack Dark Scale */
    --background: 220 14% 11%;             /* #1B1D21 - AEBlack-900 */
    --foreground: 225 14% 89%;             /* #E1E3E5 - AEBlack-100 (12.6:1 contrast) */
    --surface: 219 8% 14%;                 /* #232528 - AEBlack-800 */
    --surface-variant: 224 9% 26%;         /* #3E4046 - AEBlack-700 */
    
    /* Card & Container Colors */
    --card: 219 8% 14%;                    /* #232528 - AEBlack-800 */
    --card-foreground: 225 14% 89%;        /* #E1E3E5 - AEBlack-100 */
    --card-border: 224 9% 26%;             /* #3E4046 - AEBlack-700 */
    
    /* Popover & Modal Colors */
    --popover: 224 9% 26%;                 /* #3E4046 - AEBlack-700 */
    --popover-foreground: 225 14% 89%;     /* #E1E3E5 - AEBlack-100 */
    --popover-border: 225 9% 41%;          /* #5F646D - AEBlack-500 */
    
    /* Primary Brand Colors - AEGold Light for Dark Mode */
    --primary: 41 48% 55%;                 /* #CBA344 - AEGold-400 (lighter for dark bg) */
    --primary-foreground: 220 14% 11%;     /* #1B1D21 - AEBlack-900 */
    --primary-hover: 40 54% 63%;           /* #D7BC6D - AEGold-300 */
    --primary-active: 43 36% 86%;          /* #E6D7A2 - AEGold-200 */
    --primary-light: 43 54% 31%;           /* #7C5E24 - AEGold-700 (dark variant) */
    --primary-light-foreground: 43 36% 86%; /* #E6D7A2 - AEGold-200 */
    
    /* Secondary Colors - AEBlack Dark Variants */
    --secondary: 224 9% 26%;               /* #3E4046 - AEBlack-700 */
    --secondary-foreground: 225 14% 89%;   /* #E1E3E5 - AEBlack-100 */
    --secondary-hover: 225 9% 33%;         /* #4B4F58 - AEBlack-600 */
    --secondary-border: 225 9% 41%;        /* #5F646D - AEBlack-500 */
    
    /* Muted Colors - Subtle Dark Grays */
    --muted: 224 9% 26%;                   /* #3E4046 - AEBlack-700 */
    --muted-foreground: 225 10% 67%;       /* #9EA2A9 - AEBlack-300 (4.5:1) */
    --muted-border: 225 9% 41%;            /* #5F646D - AEBlack-500 */
    
    /* Accent Colors - Dark Gold Accent */
    --accent: 224 9% 26%;                  /* #3E4046 - AEBlack-700 */
    --accent-foreground: 225 14% 89%;      /* #E1E3E5 - AEBlack-100 */
    --accent-hover: 225 9% 33%;            /* #4B4F58 - AEBlack-600 */
    
    /* Semantic Colors */
    
    /* Success - AEGreen Light for Dark Mode */
    --success: 140 43% 62%;                /* #6FB97F - AEGreen-400 (lighter for dark) */
    --success-foreground: 220 14% 11%;     /* #1B1D21 - AEBlack-900 */
    --success-light: 141 35% 21%;          /* #2F663C - AEGreen-700 */
    --success-light-foreground: 138 37% 66%; /* #A0D5AB - AEGreen-300 */
    --success-border: 141 29% 37%;         /* #3F8E50 - AEGreen-600 */
    --color-green-500: hsl(140 43% 62%);   /* Alias for AEGreen-400 dark mode */
    
    /* Warning - AEGold Light for Dark Mode */
    --warning: 40 54% 63%;                 /* #D7BC6D - AEGold-300 */
    --warning-foreground: 220 14% 11%;     /* #1B1D21 - AEBlack-900 */
    --warning-light: 43 54% 31%;           /* #7C5E24 - AEGold-700 */
    --warning-light-foreground: 43 36% 86%; /* #E6D7A2 - AEGold-200 */
    --warning-border: 42 55% 37%;          /* #92722A - AEGold-600 */
    
    /* Error/Destructive - AERed Light for Dark Mode */
    --destructive: 2 78% 72%;              /* #F47A75 - AERed-400 (lighter for dark) */
    --destructive-foreground: 220 14% 11%; /* #1B1D21 - AEBlack-900 */
    --destructive-light: 3 69% 42%;        /* #B52520 - AERed-700 */
    --destructive-light-foreground: 1 80% 83%; /* #FAAAA7 - AERed-300 */
    --destructive-border: 3 68% 53%;       /* #D83731 - AERed-600 */
    
    /* Info (Blue) */
    --info: 213 94% 75%;                   /* #93c5fd - Info blue (4.5:1 contrast on dark) */
    --info-foreground: 220 26% 7%;         /* #0f172a - Dark text on info */
    --info-light: 213 94% 20%;             /* #1e40af - Dark info background */
    --info-light-foreground: 213 94% 80%;  /* #bfdbfe - Light text on dark info */
    --info-border: 213 94% 65%;            /* #60a5fa - Info border */
    
    /* Interactive Element Colors - Golden borders in dark mode */
    --border: 41 55% 60%;                  /* #CBA344 - AEGold-400 (golden in dark) */
    --input: 41 55% 60%;                   /* #CBA344 - AEGold-400 (golden in dark) */
    --input-focus: 41 48% 55%;             /* #CBA344 - AEGold-400 */
    --ring: 41 48% 55%;                    /* #CBA344 - AEGold-400 */
    
    /* Text Hierarchy Colors - AEBlack Light Scale */
    --text-primary: 225 14% 89%;           /* #E1E3E5 - AEBlack-100 (12.6:1 contrast) */
    --text-secondary: 225 10% 67%;         /* #9EA2A9 - AEBlack-300 (4.5:1 contrast) */
    --text-tertiary: 225 9% 49%;           /* #797E86 - AEBlack-400 (3.2:1 - large text) */
    --text-disabled: 225 9% 41%;           /* #5F646D - AEBlack-500 */
    
    /* Component-Specific Colors */
    --tooltip: 225 14% 89%;                /* #E1E3E5 - AEBlack-100 */
    --tooltip-foreground: 220 14% 11%;     /* #1B1D21 - AEBlack-900 */
  }

  * {
    border-color: hsl(var(--border));
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
  }

  html {
    scroll-behavior: smooth;
  }

  /* =============================================================================
     DIRECTION-SPECIFIC STYLES
     ============================================================================= */

  /* LTR (English) specific styles */
  [dir="ltr"] {
    --direction: ltr;
    --font-family: "Inter", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  /* RTL (Arabic) specific styles */
  [dir="rtl"] {
    --direction: rtl;
    --font-family: "Cairo", "Noto Sans Arabic", "IBM Plex Sans Arabic", "Dubai", "Tahoma", "Arial Unicode MS", sans-serif;
  }

  /* Language-specific font stacks */
  [lang="ar"], [lang="ar"] * {
    font-family: "Cairo", "Noto Sans Arabic", "IBM Plex Sans Arabic", "Dubai", "Tahoma", "Arial Unicode MS", sans-serif;
    font-feature-settings: "kern" 1, "liga" 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  [lang="en"], [lang="en"] * {
    font-family: "Inter", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Form field directionality fixes */
  [dir="rtl"] input[type="email"],
  [dir="rtl"] input[type="url"],
  [dir="rtl"] input[type="tel"] {
    direction: ltr;
    text-align: start;
  }

  [dir="rtl"] input[type="number"] {
    direction: ltr;
    text-align: start;
  }

  /* Button icon positioning in RTL */
  [dir="rtl"] .btn-icon-start {
    order: 2;
  }

  [dir="rtl"] .btn-text {
    order: 1;
  }

  /* Navigation and layout adjustments */
  [dir="rtl"] .nav-breadcrumb {
    flex-direction: row-reverse;
  }

  [dir="rtl"] .form-grid {
    direction: rtl;
  }

  /* Focus ring adjustment for RTL */
  [dir="rtl"] *:focus-visible {
    outline-offset: 2px;
  }
}

@layer components {
  /* =============================================================================
     RTL-AWARE UTILITY CLASSES
     ============================================================================= */

  /* Directional spacing utilities */
  .space-x-1-rtl > * + * {
    margin-inline-start: 0.25rem;
  }

  .space-x-2-rtl > * + * {
    margin-inline-start: 0.5rem;
  }

  .space-x-3-rtl > * + * {
    margin-inline-start: 0.75rem;
  }

  .space-x-4-rtl > * + * {
    margin-inline-start: 1rem;
  }

  .space-x-6-rtl > * + * {
    margin-inline-start: 1.5rem;
  }

  /* Margin utilities */
  .ms-auto {
    margin-inline-start: auto;
  }

  .me-auto {
    margin-inline-end: auto;
  }

  .ms-1 {
    margin-inline-start: 0.25rem;
  }

  .ms-2 {
    margin-inline-start: 0.5rem;
  }

  .ms-3 {
    margin-inline-start: 0.75rem;
  }

  .ms-4 {
    margin-inline-start: 1rem;
  }

  .me-1 {
    margin-inline-end: 0.25rem;
  }

  .me-2 {
    margin-inline-end: 0.5rem;
  }

  .me-3 {
    margin-inline-end: 0.75rem;
  }

  .me-4 {
    margin-inline-end: 1rem;
  }

  /* Padding utilities */
  .ps-1 {
    padding-inline-start: 0.25rem;
  }

  .ps-2 {
    padding-inline-start: 0.5rem;
  }

  .ps-3 {
    padding-inline-start: 0.75rem;
  }

  .ps-4 {
    padding-inline-start: 1rem;
  }

  .ps-6 {
    padding-inline-start: 1.5rem;
  }

  .pe-1 {
    padding-inline-end: 0.25rem;
  }

  .pe-2 {
    padding-inline-end: 0.5rem;
  }

  .pe-3 {
    padding-inline-end: 0.75rem;
  }

  .pe-4 {
    padding-inline-end: 1rem;
  }

  .pe-6 {
    padding-inline-end: 1.5rem;
  }

  /* Text alignment */
  .text-start {
    text-align: start;
  }

  .text-end {
    text-align: end;
  }

  /* Border utilities */
  .border-s {
    border-inline-start-width: 1px;
  }

  .border-e {
    border-inline-end-width: 1px;
  }

  .border-s-2 {
    border-inline-start-width: 2px;
  }

  .border-e-2 {
    border-inline-end-width: 2px;
  }

  /* Rounded corners for RTL */
  .rounded-s {
    border-start-start-radius: 0.25rem;
    border-end-start-radius: 0.25rem;
  }

  .rounded-e {
    border-start-end-radius: 0.25rem;
    border-end-end-radius: 0.25rem;
  }

  .rounded-s-lg {
    border-start-start-radius: 0.5rem;
    border-end-start-radius: 0.5rem;
  }

  .rounded-e-lg {
    border-start-end-radius: 0.5rem;
    border-end-end-radius: 0.5rem;
  }

  /* Government form styling */
  .form-section {
    @apply bg-white border border-gray-200 rounded-lg p-6 shadow-sm;
  }

  .form-title {
    @apply text-2xl font-bold text-gray-900 mb-2;
  }

  .form-description {
    @apply text-sm text-gray-600 mb-6;
  }

  .form-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6;
  }

  .form-grid-full {
    @apply md:col-span-2;
  }

  /* Golden hover effects for interactive elements */
  .card-interactive {
    transition: border-color 0.2s ease;
  }

  .card-interactive:hover {
    border-color: hsl(var(--primary));
  }

  /* ============================================================================
     FORM INPUTS - Golden Focus Border (No Black Outline)
     Remove all default browser outlines and show only golden border
     ============================================================================ */
  
  /* Remove default browser outline for all form elements */
  input,
  textarea,
  select,
  button {
    outline: none !important;
  }

  /* Input golden focus states - Only golden border, no black outline */
  input:focus,
  textarea:focus,
  select:focus,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    border-color: hsl(var(--primary)) !important;
    outline: none !important;
    outline-width: 0 !important;
    outline-offset: 0 !important;
    box-shadow: 0 0 0 1px hsl(var(--primary));
  }

  /* Ensure no ring-offset creates black border */
  *:focus-visible {
    outline: none !important;
  }

  /* Override any ring-offset utilities that might create black borders */
  .ring-offset-2,
  .ring-offset-1,
  .focus-visible\:ring-offset-2:focus-visible,
  .focus-visible\:ring-offset-1:focus-visible,
  .focus\:ring-offset-2:focus,
  .focus\:ring-offset-1:focus {
    --tw-ring-offset-width: 0px !important;
  }

  /* ============================================================================
     ICON GOLDEN COLOR SCHEME - UAE Government Standard
     All icons display in AEGold-500 by default, AEGold-600 on hover
     ============================================================================ */
  
  /* Base icon color - Golden (AEGold-500: #B68A35) */
  svg:not([data-semantic-color]),
  .lucide,
  [class*="lucide-"] {
    color: hsl(var(--primary)) !important;
    stroke: currentColor;
    transition: color 0.2s ease;
  }

  /* Icons in interactive elements - Golden default */
  button svg:not([data-semantic-color]),
  a svg:not([data-semantic-color]),
  [role="button"] svg:not([data-semantic-color]) {
    color: hsl(var(--primary)) !important;
  }

  /* Darker gold on hover - (AEGold-600: #92722A) */
  button:hover svg:not([data-semantic-color]),
  a:hover svg:not([data-semantic-color]),
  [role="button"]:hover svg:not([data-semantic-color]),
  button:hover .lucide,
  a:hover .lucide,
  [role="button"]:hover .lucide {
    color: hsl(var(--primary-hover)) !important;
  }

  /* Navigation icons - Golden with hover */
  nav svg:not([data-semantic-color]),
  nav .lucide {
    color: hsl(var(--primary)) !important;
  }

  nav a:hover svg:not([data-semantic-color]),
  nav button:hover svg:not([data-semantic-color]),
  nav a:hover .lucide,
  nav button:hover .lucide {
    color: hsl(var(--primary-hover)) !important;
  }

  /* Card and feature icons */
  .card svg:not([data-semantic-color]),
  [class*="feature"] svg:not([data-semantic-color]) {
    color: hsl(var(--primary)) !important;
  }

  /* Icon-only buttons */
  button[aria-label] svg:not([data-semantic-color]),
  .icon-button svg:not([data-semantic-color]) {
    color: hsl(var(--primary)) !important;
  }

  button[aria-label]:hover svg:not([data-semantic-color]),
  .icon-button:hover svg:not([data-semantic-color]) {
    color: hsl(var(--primary-hover)) !important;
  }

  /* Override text-primary class on icons */
  svg.text-primary,
  .lucide.text-primary {
    color: hsl(var(--primary)) !important;
  }

  /* Preserve semantic colors for status icons (success, error, warning, info) 
     These icons maintain their semantic colors and are excluded from golden scheme */

  /* =============================================================================
     WCAG-COMPLIANT BUTTON VARIANTS
     ============================================================================= */

  .btn-primary {
    background-color: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    @apply px-4 py-2 rounded-md transition-colors duration-200;
    @apply hover:bg-[hsl(var(--primary-hover))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))] focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[hsl(var(--primary))];
  }

  .btn-secondary {
    background-color: hsl(var(--secondary));
    color: hsl(var(--secondary-foreground));
    border: 1px solid hsl(var(--secondary-border));
    @apply px-4 py-2 rounded-md transition-colors duration-200;
    @apply hover:bg-[hsl(var(--secondary-hover))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))] focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[hsl(var(--secondary))];
  }

  .btn-outline {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    border: 1px solid hsl(var(--border));
    @apply px-4 py-2 rounded-md transition-colors duration-200;
    @apply hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))];
    @apply focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))] focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[hsl(var(--background))];
  }

  .btn-success {
    background-color: hsl(var(--success));
    color: hsl(var(--success-foreground));
    @apply px-4 py-2 rounded-md transition-colors duration-200;
    @apply hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-[hsl(var(--success))] focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-warning {
    background-color: hsl(var(--warning));
    color: hsl(var(--warning-foreground));
    @apply px-4 py-2 rounded-md transition-colors duration-200;
    @apply hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-[hsl(var(--warning))] focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-destructive {
    background-color: hsl(var(--destructive));
    color: hsl(var(--destructive-foreground));
    @apply px-4 py-2 rounded-md transition-colors duration-200;
    @apply hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-[hsl(var(--destructive))] focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* =============================================================================
     ACCESSIBILITY UTILITY CLASSES
     ============================================================================= */

  /* Screen reader only text */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Focus visible utilities */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))] focus:ring-offset-2;
  }

  .focus-ring-inset {
    @apply focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))] focus:ring-inset;
  }

  /* Text color utilities using design tokens */
  .text-primary {
    color: hsl(var(--text-primary));
  }

  .text-secondary {
    color: hsl(var(--text-secondary));
  }

  .text-tertiary {
    color: hsl(var(--text-tertiary));
  }

  .text-disabled {
    color: hsl(var(--text-disabled));
  }

  .text-success {
    color: hsl(var(--success));
  }

  .text-warning {
    color: hsl(var(--warning));
  }

  .text-destructive {
    color: hsl(var(--destructive));
  }

  .text-info {
    color: hsl(var(--info));
  }

  /* Background color utilities using design tokens */
  .bg-surface {
    background-color: hsl(var(--surface));
  }

  .bg-surface-variant {
    background-color: hsl(var(--surface-variant));
  }

  .bg-success-light {
    background-color: hsl(var(--success-light));
    color: hsl(var(--success-light-foreground));
  }

  .bg-warning-light {
    background-color: hsl(var(--warning-light));
    color: hsl(var(--warning-light-foreground));
  }

  .bg-destructive-light {
    background-color: hsl(var(--destructive-light));
    color: hsl(var(--destructive-light-foreground));
  }

  .bg-info-light {
    background-color: hsl(var(--info-light));
    color: hsl(var(--info-light-foreground));
  }

  /* Border color utilities using design tokens */
  .border-default {
    border-color: hsl(var(--border));
  }

  .border-success {
    border-color: hsl(var(--success-border));
  }

  .border-warning {
    border-color: hsl(var(--warning-border));
  }

  .border-destructive {
    border-color: hsl(var(--destructive-border));
  }

  .border-info {
    border-color: hsl(var(--info-border));
  }

  /* Status indicator utilities */
  .status-indicator {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .status-success {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    background-color: hsl(var(--success-light));
    color: hsl(var(--success-light-foreground));
    border: 1px solid hsl(var(--success-border));
  }

  .status-warning {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    background-color: hsl(var(--warning-light));
    color: hsl(var(--warning-light-foreground));
    border: 1px solid hsl(var(--warning-border));
  }

  .status-error {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    background-color: hsl(var(--destructive-light));
    color: hsl(var(--destructive-light-foreground));
    border: 1px solid hsl(var(--destructive-border));
  }

  .status-info {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    background-color: hsl(var(--info-light));
    color: hsl(var(--info-light-foreground));
    border: 1px solid hsl(var(--info-border));
  }
}

/* RTL Support */
[dir='rtl'] {
  direction: rtl;
}

[dir='rtl'] .text-left {
  text-align: right;
}

[dir='rtl'] .text-right {
  text-align: left;
}

[dir='rtl'] .float-left {
  float: right;
}

[dir='rtl'] .float-right {
  float: left;
}

[dir='rtl'] .border-l {
  border-left: none;
  border-right: 1px solid;
}

[dir='rtl'] .border-r {
  border-right: none;
  border-left: 1px solid;
}

[dir='rtl'] .rounded-l-md {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: 0.375rem;
  border-bottom-right-radius: 0.375rem;
}

[dir='rtl'] .rounded-r-md {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-top-left-radius: 0.375rem;
  border-bottom-left-radius: 0.375rem;
}

/* Dark mode utilities */
.dark .bg-background {
  background-color: hsl(var(--background));
}

.dark .text-foreground {
  color: hsl(var(--foreground));
}

.dark .border-border {
  border-color: hsl(var(--border));
}

/* Focus visible styles for accessibility */
*:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

/* Skip to content link for accessibility */
.skip-link {
  @apply absolute -top-10 left-4 bg-blue-600 text-white px-4 py-2 rounded-md z-50 focus:top-4;
}

/* RTL Input field support */
input[dir="rtl"], textarea[dir="rtl"], select[dir="rtl"] {
  text-align: right;
}

input[dir="ltr"], textarea[dir="ltr"], select[dir="ltr"] {
  text-align: left;
}

body.modal-open {
  overflow: hidden !important;
}

html.modal-open {
  overflow: hidden !important;
}
/* =============================================================================
   HIGH CONTRAST MODE SUPPORT (WCAG AAA)
   ============================================================================= */

@media (prefers-contrast: high) {
  :root {
    /* Enhanced contrast for high contrast mode - Official AE colors with max contrast */
    --background: 0 0% 100%;              /* Pure white */
    --foreground: 0 0% 0%;                /* Pure black (21:1 contrast) */
    --primary: 43 59% 29%;                /* #6C4527 - AEGold-800 (9:1 contrast) */
    --primary-foreground: 0 0% 100%;      /* Pure white */
    --secondary: 0 0% 90%;                /* Light gray */
    --secondary-foreground: 0 0% 0%;      /* Pure black */
    --border: 0 0% 0%;                    /* Black borders */
    --input: 0 0% 0%;                     /* Black input borders */
    --ring: 43 59% 29%;                   /* AEGold-800 focus ring */
    
    /* Semantic colors with maximum contrast */
    --success: 141 40% 27%;               /* #2A5133 - AEGreen-800 (7:1 contrast) */
    --success-foreground: 0 0% 100%;      /* Pure white */
    --warning: 43 59% 29%;                /* #6C4527 - AEGold-800 (9:1 contrast) */
    --warning-foreground: 0 0% 100%;      /* Pure white */
    --destructive: 3 74% 36%;             /* #95231F - AERed-800 (7:1 contrast) */
    --destructive-foreground: 0 0% 100%;  /* Pure white */
    --info: 220 100% 25%;                 /* Dark blue (7:1 contrast) */
    --info-foreground: 0 0% 100%;         /* Pure white */
    
    /* Text hierarchy with maximum contrast */
    --text-primary: 0 0% 0%;              /* Pure black */
    --text-secondary: 0 0% 20%;           /* Very dark gray */
    --text-tertiary: 0 0% 30%;            /* Dark gray */
  }
  
  .dark {
    /* High contrast dark mode - Official AE colors */
    --background: 0 0% 0%;                /* Pure black */
    --foreground: 0 0% 100%;              /* Pure white (21:1 contrast) */
    --primary: 43 36% 86%;                /* #E6D7A2 - AEGold-200 (12:1 contrast) */
    --primary-foreground: 0 0% 0%;        /* Pure black */
    --secondary: 0 0% 10%;                /* Very dark gray */
    --secondary-foreground: 0 0% 100%;    /* Pure white */
    --border: 0 0% 100%;                  /* White borders */
    --input: 0 0% 100%;                   /* White input borders */
    --ring: 43 36% 86%;                   /* AEGold-200 focus ring */
    
    /* Semantic colors with maximum contrast */
    --success: 138 37% 74%;               /* #CAE8CF - AEGreen-200 (11:1 contrast) */
    --success-foreground: 0 0% 0%;        /* Pure black */
    --warning: 43 36% 86%;                /* #E6D7A2 - AEGold-200 (12:1 contrast) */
    --warning-foreground: 0 0% 0%;        /* Pure black */
    --destructive: 1 80% 83%;             /* #FAAAA7 - AERed-300 (10:1 contrast) */
    --destructive-foreground: 0 0% 0%;    /* Pure black */
    --info: 220 100% 75%;                 /* Light blue (8:1 contrast) */
    --info-foreground: 0 0% 0%;           /* Pure black */
    
    /* Text hierarchy with maximum contrast */
    --text-primary: 0 0% 100%;            /* Pure white */
    --text-secondary: 0 0% 80%;           /* Very light gray */
    --text-tertiary: 0 0% 70%;            /* Light gray */
  }
}

/* =============================================================================
   REDUCED MOTION SUPPORT
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
